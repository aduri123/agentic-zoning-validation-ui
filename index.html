<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Agentic Zoning Validation Assistant — Concept Demo Map</title>
  <meta name="description" content="Concept demo UI for an Agentic Zoning Validation Assistant integrating SDI maps, ArcGIS Knowledge, and vector databases for zoning compliance validation and explainable outputs." />

  <!-- Leaflet (no API key needed) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>

  <style>
    :root {
      --bg:#f4f7fb; --card:#fff; --ink:#0f172a; --muted:#5b6b82;
      --accent:#1976d2; --accent2:#7c4dff; --line:#e7ecf5;
      --radius:18px; --ok:#16a34a;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:"Inter",sans-serif;background:var(--bg);color:var(--ink)}

    /* Header */
    .hero {
      background:linear-gradient(115deg,var(--accent),#3f8cff,var(--accent2));
      color:#fff;text-align:center;padding:40px 20px;
      box-shadow:0 6px 30px rgba(0,0,0,.1);
      position:sticky;top:0;z-index:10;
    }
    .hero h1{margin:0;font-size:26px;font-weight:800;}
    .hero p{max-width:800px;margin:8px auto;font-size:15px;opacity:.95;}
    .badge{
      display:inline-block;margin-top:10px;font-size:12px;
      padding:6px 12px;border-radius:20px;
      background:rgba(255,255,255,.2);border:1px solid rgba(255,255,255,.3);
      backdrop-filter:blur(5px)
    }

    /* Layout */
    .container{max-width:1200px;margin:30px auto;padding:0 20px}
    .grid{display:grid;grid-template-columns:360px 1fr;gap:24px;}
    @media(max-width:900px){.grid{grid-template-columns:1fr}}

    .card{background:var(--card);border:1px solid var(--line);
      border-radius:var(--radius);box-shadow:0 8px 30px rgba(0,0,0,.05);}
    .hd{font-weight:700;font-size:15px;padding:14px 18px;
      border-bottom:1px dashed #e7ecf5;text-transform:uppercase;color:var(--muted);}
    .bd{padding:18px;}

    .field{margin-bottom:14px;}
    label{font-size:12px;text-transform:uppercase;color:var(--muted);}
    input{width:100%;padding:10px 14px;border-radius:10px;border:1px solid #dce3f0;margin-top:6px;}
    .btns{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px;}
    .btn{padding:10px 14px;border:0;border-radius:10px;font-weight:600;cursor:not-allowed;}
    .btn.primary{background:#1976d2;color:#fff;}
    .btn.ghost{background:#eef4ff;color:#274472;}
    .note{background:#f6f9ff;border:1px dashed #d9e5fa;padding:12px;border-radius:12px;font-size:13px;color:#5b6b82;}

    #map{height:540px;border-radius:18px;border:1px solid #e3e9f4;margin:18px;}
    .leaflet-container{border-radius:18px;}

    footer{text-align:center;font-size:13px;color:#607086;margin:40px 0;}
    footer a{color:#3f8cff;text-decoration:none;}
    footer a:hover{text-decoration:underline;}
  </style>
</head>
<body>

  <header class="hero">
    <h1>Agentic Zoning Validation Assistant — Concept Demo Map</h1>
    <p>Integrating SDI Maps (ArcGIS Enterprise), ArcGIS Knowledge, and Vector Databases for autonomous zoning compliance checks and explainable outputs.</p>
    <div class="badge">Concept Demo — Not live data</div>
  </header>

  <main class="container">
    <section class="grid">
      <aside class="card">
        <div class="hd">Inputs</div>
        <div class="bd">
          <div class="field">
            <label>Parcel ID</label>
            <input placeholder="e.g., 202A-1156">
          </div>
          <div class="field">
            <label>Zoning Layer</label>
            <input placeholder="/Zoning/Zones_B1">
          </div>
          <div class="field">
            <label>Rules</label>
            <input placeholder="Setbacks, Height, FAR">
          </div>
          <div class="btns">
            <button class="btn primary" disabled>Attach rule PDF</button>
            <button class="btn ghost" disabled>Use map selection</button>
          </div>
          <div style="height:14px"></div>
          <div class="hd" style="text-transform:none;font-size:13px;background:#f0f6ff;border-radius:10px;">Safety</div>
          <div class="note">
            • Standards-based OGC/REST only • Least-privilege, read-only tokens<br>
            • Source & time-stamped outputs • EN/AR natural-language questions (demo)
          </div>
        </div>
      </aside>

      <section class="card">
        <div class="hd">Map (Interactive — Leaflet + OSM)</div>
        <div id="map"></div>
      </section>
    </section>

    <section class="grid" style="margin-top:20px;">
      <div class="card">
        <div class="hd">Compliance Result</div>
        <div class="bd">
          <p><strong>Parcel:</strong> 202A-1156</p>
          <p><strong>Zone:</strong> B1 (Residential)</p>
          <p><strong>Decision:</strong> ✅ Compliant — <span style="color:#16a34a;font-weight:700;">PASS</span></p>
        </div>
      </div>

      <div class="card">
        <div class="hd">Evidence & Audit</div>
        <div class="bd">
          <p><strong>Sources:</strong> SDI Maps (ArcGIS Enterprise)</p>
          <p><strong>Query:</strong> REST/OGC (read-only)</p>
          <p><strong>Rules:</strong> ArcGIS Knowledge — “B1 setbacks, height, FAR”</p>
          <p><strong>SPAR Cycle:</strong> Sense → Plan → Act → Reflect</p>
        </div>
      </div>
    </section>
  </main>

  <footer>
    © 2025 · Aduri Sreenivas · Concept demo UI (static sources). Map tiles © OpenStreetMap contributors.
  </footer>

  <script>
    // Initialize Leaflet map centered on Bahrain
    const map = L.map('map').setView([26.0667, 50.5577], 12);

    // Add OpenStreetMap basemap
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 19,
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    // Demo polygon
    const poly = L.polygon([
      [26.0987, 50.5195],
      [26.1025, 50.5375],
      [26.0865, 50.5400],
      [26.0842, 50.5225]
    ], {
      color: '#d23f5b',
      fillColor: '#f4a2b1',
      fillOpacity: 0.35
    }).addTo(map).bindPopup('Demo: Violation buffer');

    // Violation label
    const marker = L.marker([26.0935, 50.5310])
      .addTo(map)
      .bindTooltip('Violation', { permanent: true, direction: 'top', className: 'violation-tip' });

    const style = document.createElement('style');
    style.textContent = `
      .violation-tip {
        background:#fff;color:#7c2332;border:2px solid rgba(242,104,112,.6);
        border-radius:12px;padding:6px 10px;font-weight:700;
        box-shadow:0 6px 18px rgba(242,104,112,.15);
      }`;
    document.head.appendChild(style);
  </script>

</body>
</html>
